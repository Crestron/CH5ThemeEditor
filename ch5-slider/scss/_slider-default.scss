///////////////////////////////////////////////////////////////////////////////////////////////////
/// Copyright (C) 2018 to the present, Crestron Electronics, Inc.
/// All rights reserved.
/// No part of this software may be reproduced in any form, machine
/// or natural, without the express written consent of Crestron Electronics.
/// Use of this source code is subject to the terms of the Crestron Software License Agreement
/// under which you licensed this source code.
///
/// @author Crestron
/// @group ch5-slider
////////////////////////////////////////////////////////////////////////////////////////////////////

ch5-slider:focus {
  outline: none;
}
ch5-slider {
  position: relative;
  display: inline-block;
	border: solid 1px;
}
.ch5-slider:not(.ch5-slider--disabled) .noUi-handle {
  cursor: pointer;
}

.ch5-slider--disabled {
  .slider-off-button,
  .slider-on-button {
    opacity: 0.5 !important;
    z-index: 2;
    div {
      cursor: not-allowed !important;
      pointer-events: none;
    }
  }
  .cb-btn,
  .ch5-slider-button-container {
    cursor: not-allowed !important;
  }
}

/* ch5-slider - container */

/// the class added on the component and wraps all its contents
.ch5-slider {
  position: relative;
  display: inline-block;
  // display: flex;

  &.ch5-hide-dis {
    display: none;
  }

  &:focus,
  .noUi-connects:focus,
  .noUi-base,
  .noUi-handle:focus {
    outline: none;
  }

  .noUi-target {
    display: inline-block;
  }

  &.nohandle .noUi-handle {
    visibility: hidden;
  }

  .noUi-handle:after {
    content: none !important;
    height: 0% !important;
    width: 0% !important;
  }

  /// Applied when slider orientation="horizontal"
  &.ch5-slider--orientation--horizontal {
    .noUi-target {
      height: $ch5-slider-target-size;
    }
    &.ch5-slider-ticks {
      .noUi-base {
        height: $ch5-slider-target-size;
        border-style: $ch5-slider-target-border-style;
        border-color: $ch5-slider-target-border-color;
        border-width: $ch5-slider-target-border-width;
      }
      .noUi-pips-horizontal {
        top: 0;
        height: $ch5-slider-horizontal-pips;
      }
      .noUi-pips {
        position: relative;
      }
      .noUi-target {
        align-self: auto;
        margin-top: calc($ch5-slider-target-size/2.57);
      }
    }
    &.ch5-advanced-slider-container {
      .noUi-target {
        align-self: center;
      }
    }
    &.ch5-slider--tooltip--on:not(.ch5-advanced-slider-container) {
      margin-top: 37px;
    }
    &.ch5-slider--tooltip--on.ch5-advanced-slider-container {
      margin-top: 8px;
    }
  }

  /// Applied when slider orientation="vertical"
  &.ch5-slider--orientation--vertical {
    .noUi-target {
      width: $ch5-slider-target-size;
    }
    &.ch5-advanced-slider-container {
      .noUi-target {
        align-self: center;
      }
    }
    &.ch5-slider-ticks {
      .noUi-base {
        width: $ch5-slider-target-size;
        border-style: $ch5-slider-target-border-style;
        border-color: $ch5-slider-target-border-color;
        border-width: $ch5-slider-target-border-width;
      }
      width: $ch5-slider-vertical-pips;
      max-width: inherit !important;
      .noUi-target {
        align-self: auto;
        margin-left: calc($ch5-slider-target-size/2.57);
      }
    }
    &.ch5-slider--tooltip--on {
      margin-left: 37px;
    }
  }

  &.ch5-slider--disabled {
    .noUi-connect {
      background: lighten($ch5-slider-connect-bg, $ch5-slider-background-lighten-percent);
    }
  }

  .noUi-handle {
    &:before,
    &:after {
      content: none;
    }
  }

  .noUi-target {
    background: transparent;
    border-style: $ch5-slider-target-border-style;
    border-color: $ch5-slider-target-border-color;
    border-width: $ch5-slider-target-border-width;
    box-shadow: none;
  }

  .noUi-connect {
    background: $ch5-slider-connect-bg;
  }
  .noUi-connects {
    background: $ch5-slider-target-bg;
  }

  .noUi-handle {
    border-style: $ch5-slider-handle-border-style;
    border-color: $ch5-slider-handle-border-color;
    border-width: $ch5-slider-handle-border-width;
    background: $ch5-slider-handle-bg;
    box-shadow: none;
  }

  /* ===============================================
    STRETCH
   ============================================= */
  &.ch5-slider--stretch--width.ch5-slider--orientation--horizontal:not(.ch5-advanced-slider-container) {
    .ch5-slider-button-container {
      width: 100% !important;
    }
  }

  &.ch5-slider--stretch--height.ch5-slider--orientation--vertical:not(.ch5-advanced-slider-container) {
    .ch5-slider-button-container {
      height: 100% !important;
    }
  }

  &.ch5-slider--stretch--height.ch5-slider--orientation--horizontal:not(.ch5-advanced-slider-container) {
    .ch5-slider-button-container {
      height: 100% !important;
    }
    .noUi-target {
      // top: 50%;
      // transform: translateY(-50%);
    }
  }

  &.ch5-slider--stretch--width.ch5-slider--orientation--vertical:not(.ch5-advanced-slider-container) {
    .ch5-slider-button-container {
      width: 100% !important;
    }
    .noUi-target {
      left: 50%;
      transform: translateX(-50%);
    }
  }

  &.ch5-slider--stretch--both.ch5-slider--orientation--horizontal:not(.ch5-advanced-slider-container) {
    .ch5-slider-button-container {
      width: 100% !important;
      height: 100% !important;
    }

    .noUi-target {
      // top: 50%;
      // transform: translateY(-50%);
    }
  }

  &.ch5-slider--stretch--both.ch5-slider--orientation--vertical:not(.ch5-advanced-slider-container) {
    .ch5-slider-button-container {
      height: 100% !important;
      width: 100% !important;
    }
    .noUi-target {
      left: 50%;
      transform: translateX(-50%);
    }
  }
}

.ch5-advanced-slider-container.ch5-slider--stretch--both,
.ch5-advanced-slider-container.ch5-slider--stretch--height,
.ch5-advanced-slider-container.ch5-slider--stretch--width {
  .slider-off-button,
  .slider-on-button {
    align-self: center;
  }
}

.ch5-slider--orientation--vertical {
  &.ch5-advanced-slider-container.ch5-slider--stretch--both,
  &.ch5-advanced-slider-container.ch5-slider--stretch--width {
    max-width: inherit !important;
  }
}

html:not([dir="rtl"]) .ch5_slider--shape--rounded-rectangle .noUi-horizontal .noUi-handle {
  right: -26px;
}

/* Tooltip */

.noUi-tooltip {
  font-size: 14px;
  align-items: center;
}

.ch5-slider--tooltip--auto {
  .noUi-tooltip {
    display: none;
  }

  .noUi-active .noUi-tooltip {
    display: flex;
  }
}

/* Ticks */
.noUi-pips {
  .noUi-marker-normal {
    visibility: hidden;
  }
  color: $ch5-slider-pips-color;
}

.ch5-slider-ticks {
  .slider-off-button,
  .slider-on-button {
    height: fit-content;
    width: fit-content;
  }
  .noUi-target {
    height: 100% !important;
    border: 0;
  }
  .noUi-base {
    border-radius: 4px;
  }
}
