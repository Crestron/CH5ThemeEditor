///////////////////////////////////////////////////////////////////////////////////////////////////
/// Copyright (C) 2018 to the present, Crestron Electronics, Inc.
/// All rights reserved.
/// No part of this software may be reproduced in any form, machine
/// or natural, without the express written consent of Crestron Electronics.
/// Use of this source code is subject to the terms of the Crestron Software License Agreement
/// under which you licensed this source code.
///
/// @author Crestron
/// @group ch5-button
////////////////////////////////////////////////////////////////////////////////////////////////////
@import "./variables";
@import "./button-mixins";

.ch5-button {
  .cb-btn {
    line-height: $ch5-button-content-line-height;
    padding: $ch5-button-padding;
  }
}

.ch5-button,
.ch5-button--label,
.ch5-button--icon,
.ch5-button--img {
  position: relative;
  width: auto;
  cursor: pointer;
  user-select: none;
}
.ch5-button--icon,
.ch5-button--img {
  line-height: $ch5-button-content-line-height;
}

.ch5-button {
  .cb-btn.ch5-button--vertical {
    height: $ch5-button-size * 2;
    width: $ch5-button-size;
  }

  .cb-btn {
    padding-top: calc($ch5-button-padding / 2);
    padding-bottom: calc($ch5-button-padding / 2);
  }
  .ch5-button--label {
    padding-left: calc($ch5-button-padding / 2);
    padding-right: calc($ch5-button-padding / 2);
  }
  &.ch5-button--vertical {
    .ch5-button--label {
      padding-top: calc($ch5-button-padding / 2);
      padding-bottom: calc($ch5-button-padding / 2);
    }
  }
}

// *** Button 'stretch' attribute ***
ch5-button[stretch="width"] {
  width: 100%;
}
ch5-button[stretch="height"] {
  height: 100%;
}
ch5-button[stretch="both"] {
  width: 100%;
  height: 100%;
}

/// Applied to make the width as much as its parent allows.
.ch5-button--stretch-width {
  width: 100%;
  .cb-btn {
    width: 100% !important;
  }
}
/// Applied to make the height as much as its parent allows.
.ch5-button--stretch-height {
  height: 100%;
  .cb-btn {
    height: 100% !important;
    min-height: $ch5-button-size; // Added as a fix for the issue of button height varying when moved from width to height in stretch
  }
  .ch5-button--label,
  .ch5-button--icon,
  .ch5-button--img {
    position: relative;
  }
}
/// Applied to make both width and height as much as its parent allows.
.ch5-button--stretch-both {
  width: 100%;
  height: 100%;
  .cb-btn {
    width: 100% !important;
    height: 100% !important;
    min-height: $ch5-button-size; // Added as a fix for the issue of button height varying when moved from width to height in stretch
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}
// ******

// Button orientation
.ch5-button--vertical {
  .cb-btn {
    display: inline-flex;
    flex-direction: column;
  }
  &.ch5-button--iconposition-bottom,
  &.ch5-button--iconposition-top {
    .ch5-button--span {
      display: inline-flex;
      flex-direction: row-reverse;
    }
    .ch5-button--horizontal-left {
      align-items: flex-start;
    }
    .ch5-button--horizontal-center {
      align-items: center;
    }
    .ch5-button--horizontal-right {
      align-items: flex-end;
    }
    .ch5-button--vertical-middle {
      justify-content: center;
    }
    .ch5-button--vertical-top {
      justify-content: flex-start;
    }
    .ch5-button--vertical-bottom {
      justify-content: flex-end;
    }
  }

  .cb-btn {
    transform: rotate(180deg);
    width: $ch5-button-size;
    height: $ch5-button-size * 2;
    .cb-icon,
    .cb-checkbox-icon {
      transform: rotate(90deg);
    }
    .ch5-button--label {
      max-width: inherit;
      writing-mode: vertical-lr;
      max-height: max-content;
      padding-left: 0;
      padding-right: 0;
    }
  }

  // iOS dots
  .ch5-button--ios-label {
    display: block;
    position: relative;
    padding-bottom: 0.5rem;
    flex: 1;
    overflow: hidden;
    writing-mode: vertical-lr;
    .ch5-button--label {
      position: static;
      writing-mode: inherit;
    }
    .dots {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
    }
    &:empty {
      display: none !important;
    }
  }
}

// Sizes
.ch5-button--size-regular {
  @include ch5-button-size-set(
    $ch5-button-size,
    $ch5-button-font-size,
    $ch5-button-font-style,
    $ch5-button-font-weight,
    $ch5-button-icon-color,
    $ch5-button-icon-font-size
  );
}

.ch5-button--size-x-small {
  @include ch5-button-size-set(
    $ch5-button-x-small-size,
    $ch5-button-x-small-font-size,
    $ch5-button-x-small-font-style,
    $ch5-button-x-small-font-weight,
    $ch5-button-icon-color,
    $ch5-button-icon-font-size
  );
}

.ch5-button--size-small {
  @include ch5-button-size-set(
    $ch5-button-small-size,
    $ch5-button-small-font-size,
    $ch5-button-small-font-style,
    $ch5-button-small-font-weight,
    $ch5-button-icon-color,
    $ch5-button-icon-font-size
  );
}

.ch5-button--size-large {
  @include ch5-button-size-set(
    $ch5-button-large-size,
    $ch5-button-large-font-size,
    $ch5-button-large-font-style,
    $ch5-button-large-font-weight,
    $ch5-button-icon-color,
    $ch5-button-icon-font-size
  );
}

.ch5-button--size-x-large {
  @include ch5-button-size-set(
    $ch5-button-x-large-size,
    $ch5-button-x-large-font-size,
    $ch5-button-x-large-font-style,
    $ch5-button-x-large-font-weight,
    $ch5-button-icon-color,
    $ch5-button-icon-font-size
  );
}

ch5-button[mode="?"] {
  &.ch5-button--size-regular {
    @include ch5-button-size-set(
      $ch5-button-size,
      $ch5-button-font-size,
      $ch5-button-font-style,
      $ch5-button-font-weight,
      $ch5-button-icon-color,
      $ch5-button-icon-font-size
    );

    ch5-button-mode-state[state="normal"],
    ch5-button-mode-state[state="pressed"],
    ch5-button-mode-state[state="selected"] {
      @include ch5-button-size-set(
        $ch5-button-size,
        $ch5-button-font-size,
        $ch5-button-font-style,
        $ch5-button-font-weight,
        $ch5-button-icon-color,
        $ch5-button-icon-font-size
      );
    }
  }

  &.ch5-button--size-x-small {
    @include ch5-button-size-set(
      $ch5-button-x-small-size,
      $ch5-button-x-small-font-size,
      $ch5-button-x-small-font-style,
      $ch5-button-x-small-font-weight,
      $ch5-button-icon-color,
      $ch5-button-icon-font-size
    );

    ch5-button-mode-state[state="normal"],
    ch5-button-mode-state[state="pressed"],
    ch5-button-mode-state[state="selected"] {
      @include ch5-button-size-set(
        $ch5-button-x-small-size,
        $ch5-button-x-small-font-size,
        $ch5-button-x-small-font-style,
        $ch5-button-x-small-font-weight,
        $ch5-button-icon-color,
        $ch5-button-icon-font-size
      );
    }
  }

  &.ch5-button--size-small {
    @include ch5-button-size-set(
      $ch5-button-small-size,
      $ch5-button-small-font-size,
      $ch5-button-small-font-style,
      $ch5-button-small-font-weight,
      $ch5-button-icon-color,
      $ch5-button-icon-font-size
    );

    ch5-button-mode-state[state="normal"],
    ch5-button-mode-state[state="pressed"],
    ch5-button-mode-state[state="selected"] {
      @include ch5-button-size-set(
        $ch5-button-small-size,
        $ch5-button-small-font-size,
        $ch5-button-small-font-style,
        $ch5-button-small-font-weight,
        $ch5-button-icon-color,
        $ch5-button-icon-font-size
      );
    }
  }

  &.ch5-button--size-large {
    @include ch5-button-size-set(
      $ch5-button-large-size,
      $ch5-button-large-font-size,
      $ch5-button-large-font-style,
      $ch5-button-large-font-weight,
      $ch5-button-icon-color,
      $ch5-button-icon-font-size
    );

    ch5-button-mode-state[state="normal"],
    ch5-button-mode-state[state="pressed"],
    ch5-button-mode-state[state="selected"] {
      @include ch5-button-size-set(
        $ch5-button-large-size,
        $ch5-button-large-font-size,
        $ch5-button-large-font-style,
        $ch5-button-large-font-weight,
        $ch5-button-icon-color,
        $ch5-button-icon-font-size
      );
    }
  }

  &.ch5-button--size-x-large {
    @include ch5-button-size-set(
      $ch5-button-x-large-size,
      $ch5-button-x-large-font-size,
      $ch5-button-x-large-font-style,
      $ch5-button-x-large-font-weight,
      $ch5-button-icon-color,
      $ch5-button-icon-font-size
    );

    ch5-button-mode-state[state="normal"],
    ch5-button-mode-state[state="pressed"],
    ch5-button-mode-state[state="selected"] {
      @include ch5-button-size-set(
        $ch5-button-x-large-size,
        $ch5-button-x-large-font-size,
        $ch5-button-x-large-font-style,
        $ch5-button-x-large-font-weight,
        $ch5-button-icon-color,
        $ch5-button-icon-font-size
      );
    }
  }
}

.ch5-button--circle {
  &.ch5-button--size-x-small {
    .cb-btn {
      width: $ch5-button-x-small-size * 2;
      height: $ch5-button-x-small-size * 2;
    }
  }
  &.ch5-button--size-small {
    .cb-btn {
      width: $ch5-button-small-size * 2;
      height: $ch5-button-small-size * 2;
    }
  }
  &.ch5-button--size-large {
    .cb-btn {
      width: $ch5-button-large-size * 2;
      height: $ch5-button-large-size * 2;
    }
  }
  &.ch5-button--size-x-large {
    .cb-btn {
      width: $ch5-button-x-large-size * 2;
      height: $ch5-button-x-large-size * 2;
    }
  }
  &.ch5-button--size-regular {
    .cb-btn {
      width: $ch5-button-size * 2;
      height: $ch5-button-size * 2;
    }
  }
}

.ch5-button--vertical:not(.ch5-button--circle) {
  &.ch5-button--size-regular {
    .cb-btn {
      width: $ch5-button-size;
      height: $ch5-button-size * 2;
    }
  }
  &.ch5-button--size-x-small {
    .cb-btn {
      width: $ch5-button-x-small-size;
      height: $ch5-button-x-small-size * 2;
    }
  }
  &.ch5-button--size-small {
    .cb-btn {
      width: $ch5-button-small-size;
      height: $ch5-button-small-size * 2;
    }
  }
  &.ch5-button--size-large {
    .cb-btn {
      width: $ch5-button-large-size;
      height: $ch5-button-large-size * 2;
    }
  }
  &.ch5-button--size-x-large {
    .cb-btn {
      width: $ch5-button-x-large-size;
      height: $ch5-button-x-large-size * 2;
    }
  }
}

// icon positions
i.cb-icon.cx-button-icon-pos-first,
i.cb-icon.cx-button-icon-pos-last {
  display: inline-block;
}
i.cb-icon.cx-button-icon-pos-top,
i.cb-icon.cx-button-icon-pos-bottom {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.ch5-button--span {
  width: 100%;
  height: 100%;
  display: flex;
  overflow: hidden;
}

.ch5-button--horizontal-left {
  justify-content: flex-start;
}
.ch5-button--horizontal-center {
  justify-content: center;
}
.ch5-button--horizontal-right {
  justify-content: flex-end;
}
.ch5-button--vertical-middle {
  align-items: center;
}
.ch5-button--vertical-top {
  align-items: flex-start;
}
.ch5-button--vertical-bottom {
  align-items: flex-end;
}

.ch5-button--vertical {
  .ch5-button--span {
    display: flex;
    flex-direction: column;
  }

  .ch5-button--horizontal-left {
    justify-content: flex-start;
  }
  .ch5-button--horizontal-center {
    justify-content: center;
  }
  .ch5-button--horizontal-right {
    justify-content: flex-end;
  }
  .ch5-button--vertical-middle {
    align-items: center;
  }
  .ch5-button--vertical-top {
    align-items: flex-end;
  }
  .ch5-button--vertical-bottom {
    align-items: flex-start;
  }
}

.ch5-button--iconposition-bottom:not(.ch5-button--vertical),
.ch5-button--iconposition-top:not(.ch5-button--vertical) {
  .ch5-button--span {
    display: flex;
    flex-direction: column;
  }
  .ch5-button--horizontal-left {
    align-items: flex-start;
  }
  .ch5-button--horizontal-center {
    align-items: center;
  }
  .ch5-button--horizontal-right {
    align-items: flex-end;
  }
  .ch5-button--vertical-middle {
    justify-content: center;
  }
  .ch5-button--vertical-top {
    justify-content: flex-start;
  }
  .ch5-button--vertical-bottom {
    justify-content: flex-end;
  }
}

.ch5-button--circle {
  &.ch5-button--stretch-width, &.ch5-button--stretch-height , &.ch5-button--stretch-both {
  width: 100% !important;
  height: 100% !important;
  .cb-btn {
      width: 100% !important;
      height: 100% !important;
    }
  }
}

.ch5-button--circle.ch5-button--vertical:not(.ch5-button--iconposition-top):not(.ch5-button--iconposition-bottom),
.ch5-button--oval.ch5-button--vertical:not(.ch5-button--iconposition-top):not(.ch5-button--iconposition-bottom) {
  .ch5-button--vertical-middle,
  .ch5-button--vertical-top,
  .ch5-button--vertical-bottom {
    align-items: center;
  }
}

.ch5-button--iconposition-top.ch5-button--vertical.ch5-button--circle,
.ch5-button--iconposition-bottom.ch5-button--vertical.ch5-button--circle,
.ch5-button--iconposition-top.ch5-button--vertical.ch5-button--oval,
.ch5-button--iconposition-bottom.ch5-button--vertical.ch5-button--oval {
  .ch5-button--vertical-middle,
  .ch5-button--vertical-top,
  .ch5-button--vertical-bottom {
    justify-content: center;
  }
}

.ch5-button--circle:not(.ch5-button--vertical):not(.ch5-button--iconposition-top):not(.ch5-button--iconposition-bottom),
.ch5-button--oval:not(.ch5-button--vertical):not(.ch5-button--iconposition-top):not(.ch5-button--iconposition-bottom) {
  .ch5-button--vertical-middle,
  .ch5-button--vertical-top,
  .ch5-button--vertical-bottom {
    align-items: center;
  }
}

.ch5-button--iconposition-top:not(.ch5-button--vertical).ch5-button--circle,
.ch5-button--iconposition-bottom:not(.ch5-button--vertical).ch5-button--circle,
.ch5-button--iconposition-top:not(.ch5-button--vertical).ch5-button--oval,
.ch5-button--iconposition-bottom:not(.ch5-button--vertical).ch5-button--oval {
  .ch5-button--vertical-middle,
  .ch5-button--vertical-top,
  .ch5-button--vertical-bottom {
    justify-content: center;
  }
}
.ch5-button--iconposition-bottom:not(.ch5-button--vertical):not(.ch5-button--circle):not(.ch5-button--oval),
.ch5-button--iconposition-top:not(.ch5-button--vertical):not(.ch5-button--circle):not(.ch5-button--oval) {
  .cb-btn {
    display: flex;
  }
}

.ch5-button__checkbox {
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  display: inline-block;
  font-style: normal;
  font-variant: normal;
  text-rendering: auto;
  line-height: 1;
}
.ch5-button__checkbox--checked:before {
  font-family: $ch5-button-faicon-font-family;
  content: $ch5-button-checkbox-checked-faicon;
  font-weight: $ch5-button-checkbox-checked-font-weight;
}
.ch5-button__checkbox--unchecked:before {
  font-family: $ch5-button-faicon-font-family;
  content: $ch5-button-checkbox-unchecked-faicon;
  font-weight: $ch5-button-checkbox-unchecked-font-weight;
}
.cx-button-checkbox-pos-left {
  padding-right: $ch5-button-checkbox-padding;
}
.cx-button-checkbox-pos-right {
  padding-left: $ch5-button-checkbox-padding;
}
i.cb-icon.material-icons,
i.cb-icon.material-icons-outline,
i.cb-icon.material-icons-round,
i.cb-icon.material-icons-sharp,
i.cb-icon.material-icons-twotone {
  font-size: inherit;
}
i.cb-icon.cx-button-icon-pos-bottom,
i.cb-icon.cx-button-icon-pos-top {
  display: flex;
  margin-left: unset;
  margin-right: unset;
}

// Managing line height for icon and text when aligned top
.ch5-button--iconposition-last.ch5-button--vertical:not(.ch5-button--circle):not(.ch5-button--oval),
.ch5-button--iconposition-first.ch5-button--vertical:not(.ch5-button--circle):not(.ch5-button--oval) {
  .ch5-button--vertical-top,
  .ch5-button--vertical-bottom {
    i.cb-icon.cx-button-icon-pos-first,
    i.cb-icon.cx-button-icon-pos-last {
      padding-left: 5px;
      padding-top: 4px;
    }
  }
}
